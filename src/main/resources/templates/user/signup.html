<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>회원가입</title>
    <link rel="stylesheet" th:href="@{/css/user.css}">
</head>
<body>
<div class="form-container">
    <h2>회원가입</h2>

    <form th:action="@{/user/signup}" method="post" id="signupForm">
        <div class="input-field">
            <label for="nickname">닉네임</label>
            <div class="input-with-button">
                <input type="text"
                       id="nickname"
                       name="nickname"
                       required
                       minlength="2"
                       maxlength="10"
                       pattern="^[가-힣a-zA-Z0-9]{2,10}$"
                       title="2~10자의 한글, 영문, 숫자만 사용 가능합니다">
                <button type="button" onclick="checkDuplicate('nickname', document.getElementById('nickname').value)">
                    닉네임 확인
                </button>
            </div>
            <span id="nicknameMessage"></span>
        </div>

        <div class="input-field">
            <label for="email">이메일</label>
            <div class="input-with-button">
                <input type="email"
                       id="email"
                       name="email"
                       required
                       pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                       title="유효한 이메일 주소를 입력해주세요">
                <button type="button" onclick="checkDuplicate('email', document.getElementById('email').value)">
                    이메일 확인
                </button>
            </div>
            <span id="emailMessage"></span>
        </div>

        <div class="input-field">
            <label for="password">비밀번호</label>
            <input type="password"
                   id="password"
                   name="password"
                   required
                   minlength="8">
<!--                   pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$"-->
<!--                   title="최소 8자, 영문, 숫자, 특수문자를 포함해야 합니다"-->

            <span id="passwordMessage"></span>
        </div>

        <div class="input-field">
            <label for="confirmPassword">비밀번호 확인</label>
            <input type="password"
                   id="confirmPassword"
                   required>
            <span id="confirmPasswordMessage"></span>
        </div>

        <button type="submit" class="submit-button">가입하기</button>
    </form>

    <div th:if="${param.signupError}" class="error-message" style="display: block;">
        회원가입에 실패했습니다. 다시 시도해주세요.
    </div>
</div>

<script th:src="@{/js/user.js}"></script>
</body>
</html>
